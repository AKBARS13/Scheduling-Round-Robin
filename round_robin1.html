<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animasi Scheduling Round Robin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 3px solid #e94560;
        }

        .header h1 {
            font-size: 2.5em;
            color: #e94560;
            text-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            color: #a0a0a0;
        }

        /* Navigation */
        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #e94560, #c23a51);
            border: none;
            border-radius: 25px;
            color: #fff;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(233, 69, 96, 0.5);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            box-shadow: 0 4px 15px rgba(0, 217, 255, 0.5);
        }

        /* Slide Container */
        .slide-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .slide {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Content Box */
        .content-box {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        .content-box h2 {
            color: #00d9ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .content-box h2 .icon {
            font-size: 1.5em;
        }

        .content-box p {
            font-size: 1.1em;
            line-height: 1.8;
            color: #d0d0d0;
            margin-bottom: 15px;
        }

        .content-box ul {
            list-style: none;
            padding-left: 0;
        }

        .content-box ul li {
            padding: 12px 0;
            padding-left: 35px;
            position: relative;
            font-size: 1.05em;
            color: #c0c0c0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .content-box ul li:before {
            content: "‚ñ∂";
            position: absolute;
            left: 0;
            color: #e94560;
            font-size: 0.8em;
        }

        /* Highlight Box */
        .highlight-box {
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.2), rgba(0, 217, 255, 0.1));
            border-left: 4px solid #e94560;
            padding: 20px 25px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
        }

        .highlight-box.info {
            border-left-color: #00d9ff;
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 153, 204, 0.1));
        }

        .highlight-box.success {
            border-left-color: #4ade80;
            background: linear-gradient(135deg, rgba(74, 222, 128, 0.2), rgba(34, 197, 94, 0.1));
        }

        .highlight-box.warning {
            border-left-color: #fbbf24;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1));
        }

        /* Control Buttons */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn.primary {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            color: #000;
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: #fff;
        }

        .control-btn.warning {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
        }

        .control-btn.danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #fff;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            background: rgba(0,0,0,0.3);
            margin-top: 50px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .footer p {
            color: #a0a0a0;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #e94560, #00d9ff);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* ==================== */
        /* BANK ANIMATION STYLES */
        /* ==================== */

        .bank-simulation {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .bank-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .bank-header h3 {
            color: #4ade80;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        /* Status & Progress */
        .simulation-status {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .status-badge {
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.95em;
        }

        .status-badge.running {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            color: #000;
            animation: pulse-badge 1.5s infinite;
        }

        .status-badge.paused {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
        }

        .status-badge.stopped {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: #fff;
        }

        .status-badge.completed {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #000;
        }

        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .step-indicator {
            color: #a0a0a0;
            font-size: 1.1em;
        }

        .step-indicator strong {
            color: #00d9ff;
        }

        /* Bank Layout */
        .bank-layout {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .bank-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Teller Counter */
        .teller-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .teller-counter {
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #2d2d44, #1a1a2e);
            border: 4px solid #4ade80;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 30px rgba(74, 222, 128, 0.3);
            position: relative;
            transition: all 0.5s ease;
        }

        .teller-counter.active {
            border-color: #00d9ff;
            box-shadow: 0 0 40px rgba(0, 217, 255, 0.5);
        }

        .teller-counter .icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .teller-counter .label {
            font-size: 0.9em;
            color: #a0a0a0;
        }

        .teller-counter .current-customer {
            font-size: 1.5em;
            font-weight: bold;
            color: #4ade80;
            margin-top: 5px;
        }

        .teller-counter .time-remaining {
            font-size: 0.85em;
            color: #fbbf24;
            margin-top: 5px;
        }

        /* Queue Section */
        .queue-section {
            display: flex;
            flex-direction: column;
        }

        .queue-title {
            color: #a0a0a0;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1em;
        }

        .customer-queue {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            min-height: 120px;
            align-items: flex-start;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 15px;
            border: 1px dashed rgba(255,255,255,0.1);
        }

        /* Customer Card */
        .customer-card {
            width: 90px;
            padding: 15px 10px;
            background: linear-gradient(135deg, #2d2d44, #1a1a2e);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: all 0.5s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .customer-card.c1 { border-color: #e94560; }
        .customer-card.c2 { border-color: #00d9ff; }
        .customer-card.c3 { border-color: #4ade80; }
        .customer-card.c4 { border-color: #fbbf24; }

        .customer-card .avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.3em;
            color: #fff;
        }

        .customer-card.c1 .avatar { background: linear-gradient(135deg, #e94560, #c23a51); }
        .customer-card.c2 .avatar { background: linear-gradient(135deg, #00d9ff, #0099cc); }
        .customer-card.c3 .avatar { background: linear-gradient(135deg, #4ade80, #22c55e); }
        .customer-card.c4 .avatar { background: linear-gradient(135deg, #fbbf24, #f59e0b); }

        .customer-card .name {
            font-size: 0.9em;
            font-weight: bold;
            color: #fff;
        }

        .customer-card .need {
            font-size: 0.75em;
            color: #a0a0a0;
            text-align: center;
        }

        .customer-card .remaining {
            font-size: 0.8em;
            color: #fbbf24;
            font-weight: bold;
        }

        .customer-card.serving {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255,255,255,0.3);
            animation: serving-pulse 1.5s infinite;
        }

        .customer-card.done {
            opacity: 0.4;
            transform: scale(0.9);
        }

        .customer-card.done::after {
            content: "‚úÖ";
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 1.5em;
        }

        @keyframes serving-pulse {
            0%, 100% { box-shadow: 0 0 25px rgba(255,255,255,0.3); }
            50% { box-shadow: 0 0 40px rgba(255,255,255,0.5); }
        }

        /* Step Explanation */
        .step-explanation {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(233, 69, 96, 0.1));
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            min-height: 120px;
        }

        .step-explanation h4 {
            color: #00d9ff;
            margin-bottom: 15px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-explanation .time-badge {
            background: linear-gradient(135deg, #e94560, #c23a51);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
        }

        .step-explanation p {
            color: #d0d0d0;
            line-height: 1.7;
            font-size: 1.05em;
        }

        .step-explanation .action {
            margin-top: 15px;
            padding: 10px 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            border-left: 3px solid #4ade80;
        }

        .step-explanation .action.preempt {
            border-left-color: #fbbf24;
        }

        .step-explanation .action.complete {
            border-left-color: #4ade80;
        }

        /* Animation Controls */
        .animation-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 15px;
            margin-top: 20px;
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .control-buttons .control-btn {
            min-width: 120px;
        }

        /* Speed Control */
        .speed-control {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .speed-control label {
            color: #a0a0a0;
            font-size: 0.95em;
        }

        .speed-slider {
            width: 200px;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            outline: none;
        }

        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .speed-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .speed-value {
            color: #00d9ff;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        /* Timeline */
        .timeline-container {
            margin-top: 30px;
        }

        .timeline-title {
            color: #a0a0a0;
            margin-bottom: 15px;
            text-align: center;
        }

        .timeline {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: center;
        }

        .timeline-item {
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 0.85em;
            font-weight: bold;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        .timeline-item.c1 { background: linear-gradient(135deg, #e94560, #c23a51); }
        .timeline-item.c2 { background: linear-gradient(135deg, #00d9ff, #0099cc); color: #000; }
        .timeline-item.c3 { background: linear-gradient(135deg, #4ade80, #22c55e); color: #000; }
        .timeline-item.c4 { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #000; }

        .timeline-item.active {
            opacity: 1;
            transform: scale(1.1);
        }

        .timeline-item.passed {
            opacity: 0.7;
        }

        /* Data Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .data-table th,
        .data-table td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .data-table th {
            background: rgba(0, 217, 255, 0.2);
            color: #00d9ff;
            font-weight: bold;
        }

        .data-table tr:nth-child(even) {
            background: rgba(255,255,255,0.03);
        }

        /* Narration */
        .narration {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(233, 69, 96, 0.05));
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 15px;
            padding: 20px 25px;
            margin: 20px 0;
            position: relative;
        }

        .narration:before {
            content: "üéôÔ∏è Narasi:";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #16213e;
            padding: 0 10px;
            color: #00d9ff;
            font-weight: bold;
            font-size: 0.9em;
        }

        .narration p {
            font-style: italic;
            color: #c0c0c0;
            line-height: 1.7;
        }

        /* Completed Section */
        .completed-section {
            margin-top: 20px;
        }

        .completed-title {
            color: #4ade80;
            margin-bottom: 15px;
            text-align: center;
        }

        .completed-customers {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            min-height: 60px;
            padding: 15px;
            background: rgba(74, 222, 128, 0.1);
            border-radius: 15px;
            border: 1px dashed rgba(74, 222, 128, 0.3);
        }

        .completed-customers .customer-card {
            transform: scale(0.85);
            opacity: 0.8;
        }

    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <h1>‚öôÔ∏è Scheduling Round Robin</h1>
        <p>Mata Kuliah: Sistem Operasi | Penyusun: Abu Bakar Sidik / 2413012</p>
        <p>Dosen Pengampu: Wawan Nurmansyah, M.Cs.</p>
    </header>

    <!-- Navigation -->
    <nav class="nav-container">
        <button class="nav-btn active" onclick="showSlide(1)">üè¶ Contoh Nyata (Bank)</button>
    </nav>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Slides Container -->
    <div class="slide-container">

        <!-- Slide 1: Contoh Nyata - Bank -->
        <div class="slide active" id="slide1">
            <div class="content-box">
                <h2><span class="icon">üè¶</span> Contoh Penerapan: Sistem Antrian di Bank</h2>

                <p>Bayangkan sebuah bank dengan <strong>satu loket teller</strong> dan empat nasabah yang mengantri. Setiap nasabah memiliki keperluan yang berbeda-beda.</p>

                <div class="highlight-box info">
                    <strong>‚è±Ô∏è Aturan Round Robin:</strong>
                    <p style="margin-top: 10px;">Time Quantum = <strong>5 menit</strong>. Setiap nasabah maksimal dilayani 5 menit per giliran. Jika urusannya belum selesai, nasabah harus kembali ke belakang antrian.</p>
                </div>

                <!-- Data Nasabah -->
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nasabah</th>
                            <th>Keperluan</th>
                            <th>Waktu Dibutuhkan</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: #e94560; font-weight: bold;">üë§ Andi</td>
                            <td>Setor Tunai</td>
                            <td>10 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #00d9ff; font-weight: bold;">üë§ Budi</td>
                            <td>Buka Rekening</td>
                            <td>15 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #4ade80; font-weight: bold;">üë§ Citra</td>
                            <td>Tarik Tunai</td>
                            <td>5 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #fbbf24; font-weight: bold;">üë§ Dina</td>
                            <td>Transfer</td>
                            <td>8 menit</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Bank Simulation -->
            <div class="bank-simulation">
                <div class="bank-header">
                    <h3>üé¨ Simulasi Antrian Bank (Round Robin)</h3>
                </div>

                <!-- Status -->
                <div class="simulation-status">
                    <span class="status-badge stopped" id="statusBadge">‚èπÔ∏è Belum Dimulai</span>
                    <span class="step-indicator">Langkah: <strong id="stepNumber">0</strong> / <strong id="totalSteps">8</strong></span>
                </div>

                <!-- Bank Layout -->
                <div class="bank-layout">
                    <!-- Teller -->
                    <div class="teller-section">
                        <div class="teller-counter" id="tellerCounter">
                            <span class="icon">üè¶</span>
                            <span class="label">Loket Teller</span>
                            <span class="current-customer" id="currentCustomer">-</span>
                            <span class="time-remaining" id="timeRemaining"></span>
                        </div>
                    </div>

                    <!-- Queue -->
                    <div class="queue-section">
                        <div class="queue-title">üìã Antrian Nasabah</div>
                        <div class="customer-queue" id="customerQueue">
                            <!-- Customers will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Step Explanation -->
                <div class="step-explanation" id="stepExplanation">
                    <h4>üìñ Penjelasan</h4>
                    <p>Klik tombol <strong>"‚ñ∂Ô∏è Mulai"</strong> untuk memulai simulasi, atau gunakan tombol <strong>"‚è≠Ô∏è Langkah"</strong> untuk maju satu langkah secara manual.</p>
                </div>

                <!-- Completed Section -->
                <div class="completed-section">
                    <div class="completed-title">‚úÖ Nasabah Selesai</div>
                    <div class="completed-customers" id="completedCustomers">
                        <span style="color: #a0a0a0; font-style: italic;">Belum ada yang selesai</span>
                    </div>
                </div>

                <!-- Timeline -->
                <div class="timeline-container">
                    <div class="timeline-title">üìä Timeline Pelayanan</div>
                    <div class="timeline" id="timeline">
                        <div class="timeline-item c1" data-step="1">0-5: Andi</div>
                        <div class="timeline-item c2" data-step="2">5-10: Budi</div>
                        <div class="timeline-item c3" data-step="3">10-15: Citra ‚úÖ</div>
                        <div class="timeline-item c4" data-step="4">15-20: Dina</div>
                        <div class="timeline-item c1" data-step="5">20-25: Andi ‚úÖ</div>
                        <div class="timeline-item c2" data-step="6">25-30: Budi</div>
                        <div class="timeline-item c4" data-step="7">30-33: Dina ‚úÖ</div>
                        <div class="timeline-item c2" data-step="8">33-38: Budi ‚úÖ</div>
                    </div>
                </div>

                <!-- Animation Controls -->
                <div class="animation-controls">
                    <div class="control-buttons">
                        <button class="control-btn primary" id="btnStart" onclick="startAnimation()">‚ñ∂Ô∏è Mulai</button>
                        <button class="control-btn warning" id="btnPause" onclick="pauseAnimation()" disabled>‚è∏Ô∏è Pause</button>
                        <button class="control-btn secondary" id="btnStep" onclick="nextStep()">‚è≠Ô∏è Langkah</button>
                        <button class="control-btn danger" id="btnReset" onclick="resetAnimation()">üîÑ Reset</button>
                    </div>

                    <div class="speed-control">
                        <label>üê¢ Kecepatan:</label>
                        <input type="range" class="speed-slider" id="speedSlider" min="1" max="10" value="3" onchange="updateSpeed()">
                        <span class="speed-value" id="speedValue">3 detik/langkah</span>
                        <label>üêá</label>
                    </div>
                </div>
            </div>

            <!-- Narration -->
            <div class="narration">
                <p>"Perhatikan bagaimana sistem Round Robin bekerja. Setiap nasabah mendapat giliran maksimal 5 menit. Citra yang urusannya paling cepat bisa selesai duluan di menit ke-15, meskipun dia datang setelah Andi dan Budi. Inilah keadilan dalam algoritma Round Robin."</p>
            </div>

            <!-- Summary -->
            <div class="content-box">
                <h3 style="color: #4ade80; margin-bottom: 15px;">üìä Ringkasan Hasil</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nasabah</th>
                            <th>Waktu Butuh</th>
                            <th>Waktu Selesai</th>
                            <th>Waktu Tunggu</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: #e94560; font-weight: bold;">Andi</td>
                            <td>10 menit</td>
                            <td>25 menit</td>
                            <td>15 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #00d9ff; font-weight: bold;">Budi</td>
                            <td>15 menit</td>
                            <td>38 menit</td>
                            <td>23 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #4ade80; font-weight: bold;">Citra</td>
                            <td>5 menit</td>
                            <td>15 menit</td>
                            <td>10 menit</td>
                        </tr>
                        <tr>
                            <td style="color: #fbbf24; font-weight: bold;">Dina</td>
                            <td>8 menit</td>
                            <td>33 menit</td>
                            <td>25 menit</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight-box success">
                    <strong>‚ú® Keuntungan Round Robin:</strong>
                    <ul style="margin-top: 10px;">
                        <li><strong>Adil</strong> - Semua nasabah mendapat giliran secara bergantian</li>
                        <li><strong>Responsif</strong> - Tidak ada yang menunggu terlalu lama untuk giliran pertama</li>
                        <li><strong>Proses cepat selesai duluan</strong> - Citra (5 menit) selesai di menit ke-15</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2025 Abu Bakar Sidik - Sistem Operasi - UNIKA Musi Charitas Palembang</p>
    </footer>

    <script>
        // ==========================================
        // ANIMATION STATE & DATA
        // ==========================================
        
        let animationState = {
            isRunning: false,
            isPaused: false,
            currentStep: 0,
            intervalId: null,
            speed: 3000 // 3 seconds default
        };

        // Customer data
        const customers = {
            andi: { id: 'andi', name: 'Andi', class: 'c1', need: 'Setor Tunai', totalTime: 10, remaining: 10 },
            budi: { id: 'budi', name: 'Budi', class: 'c2', need: 'Buka Rekening', totalTime: 15, remaining: 15 },
            citra: { id: 'citra', name: 'Citra', class: 'c3', need: 'Tarik Tunai', totalTime: 5, remaining: 5 },
            dina: { id: 'dina', name: 'Dina', class: 'c4', need: 'Transfer', totalTime: 8, remaining: 8 }
        };

        // Animation steps
        const steps = [
            {
                step: 1,
                time: '0-5 menit',
                serving: 'andi',
                queue: ['budi', 'citra', 'dina'],
                completed: [],
                action: 'serving',
                explanation: {
                    title: 'Menit 0-5: Andi Dilayani',
                    desc: 'Andi adalah nasabah pertama di antrian. Dia dilayani untuk keperluan <strong>setor tunai</strong>. Karena Andi butuh 10 menit total, tapi Time Quantum hanya 5 menit, maka Andi dilayani 5 menit dulu.',
                    action: 'Sisa waktu Andi: 5 menit. Andi pindah ke belakang antrian.',
                    actionType: 'preempt'
                },
                remaining: { andi: 5, budi: 15, citra: 5, dina: 8 }
            },
            {
                step: 2,
                time: '5-10 menit',
                serving: 'budi',
                queue: ['citra', 'dina', 'andi'],
                completed: [],
                action: 'serving',
                explanation: {
                    title: 'Menit 5-10: Budi Dilayani',
                    desc: 'Giliran Budi. Dia perlu <strong>buka rekening baru</strong> yang membutuhkan 15 menit total. Budi dilayani selama 5 menit (1 quantum).',
                    action: 'Sisa waktu Budi: 10 menit. Budi pindah ke belakang antrian.',
                    actionType: 'preempt'
                },
                remaining: { andi: 5, budi: 10, citra: 5, dina: 8 }
            },
            {
                step: 3,
                time: '10-15 menit',
                serving: 'citra',
                queue: ['dina', 'andi', 'budi'],
                completed: ['citra'],
                action: 'complete',
                explanation: {
                    title: 'Menit 10-15: Citra Dilayani & SELESAI! ‚úÖ',
                    desc: 'Giliran Citra untuk <strong>tarik tunai</strong>. Citra hanya butuh 5 menit, pas dengan 1 quantum!',
                    action: 'üéâ Citra SELESAI! Dia adalah nasabah pertama yang selesai, padahal dia datang urutan ke-3.',
                    actionType: 'complete'
                },
                remaining: { andi: 5, budi: 10, citra: 0, dina: 8 }
            },
            {
                step: 4,
                time: '15-20 menit',
                serving: 'dina',
                queue: ['andi', 'budi'],
                completed: ['citra'],
                action: 'serving',
                explanation: {
                    title: 'Menit 15-20: Dina Dilayani',
                    desc: 'Giliran Dina untuk <strong>transfer</strong>. Dina butuh 8 menit total, dilayani 5 menit dulu.',
                    action: 'Sisa waktu Dina: 3 menit. Dina pindah ke belakang antrian.',
                    actionType: 'preempt'
                },
                remaining: { andi: 5, budi: 10, citra: 0, dina: 3 }
            },
            {
                step: 5,
                time: '20-25 menit',
                serving: 'andi',
                queue: ['budi', 'dina'],
                completed: ['citra', 'andi'],
                action: 'complete',
                explanation: {
                    title: 'Menit 20-25: Andi Dilayani & SELESAI! ‚úÖ',
                    desc: 'Andi kembali untuk melanjutkan <strong>setor tunai</strong>. Sisa waktunya 5 menit, pas dengan 1 quantum.',
                    action: 'üéâ Andi SELESAI! Total waktu di sistem: 25 menit (waktu tunggu 15 menit).',
                    actionType: 'complete'
                },
                remaining: { andi: 0, budi: 10, citra: 0, dina: 3 }
            },
            {
                step: 6,
                time: '25-30 menit',
                serving: 'budi',
                queue: ['dina'],
                completed: ['citra', 'andi'],
                action: 'serving',
                explanation: {
                    title: 'Menit 25-30: Budi Dilayani (Giliran ke-2)',
                    desc: 'Budi kembali untuk melanjutkan <strong>buka rekening</strong>. Sisa waktunya 10 menit, dilayani 5 menit.',
                    action: 'Sisa waktu Budi: 5 menit. Budi pindah ke belakang antrian.',
                    actionType: 'preempt'
                },
                remaining: { andi: 0, budi: 5, citra: 0, dina: 3 }
            },
            {
                step: 7,
                time: '30-33 menit',
                serving: 'dina',
                queue: ['budi'],
                completed: ['citra', 'andi', 'dina'],
                action: 'complete',
                explanation: {
                    title: 'Menit 30-33: Dina Dilayani & SELESAI! ‚úÖ',
                    desc: 'Dina kembali untuk melanjutkan <strong>transfer</strong>. Sisa waktunya hanya 3 menit.',
                    action: 'üéâ Dina SELESAI! Total waktu di sistem: 33 menit.',
                    actionType: 'complete'
                },
                remaining: { andi: 0, budi: 5, citra: 0, dina: 0 }
            },
            {
                step: 8,
                time: '33-38 menit',
                serving: 'budi',
                queue: [],
                completed: ['citra', 'andi', 'dina', 'budi'],
                action: 'complete',
                explanation: {
                    title: 'Menit 33-38: Budi Dilayani & SELESAI! ‚úÖ',
                    desc: 'Budi adalah nasabah terakhir. Sisa waktunya 5 menit untuk menyelesaikan <strong>buka rekening</strong>.',
                    action: 'üéâ Budi SELESAI! Semua nasabah telah dilayani. Total durasi pelayanan: 38 menit.',
                    actionType: 'complete'
                },
                remaining: { andi: 0, budi: 0, citra: 0, dina: 0 }
            }
        ];

        // ==========================================
        // RENDER FUNCTIONS
        // ==========================================

        function renderCustomerCard(customerId, isServing = false, isDone = false, remaining = null) {
            const customer = customers[customerId];
            const rem = remaining !== null ? remaining : customer.remaining;
            
            let classes = `customer-card ${customer.class}`;
            if (isServing) classes += ' serving';
            if (isDone) classes += ' done';

            return `
                <div class="${classes}" id="card-${customer.id}">
                    <div class="avatar">üë§</div>
                    <div class="name">${customer.name}</div>
                    <div class="need">${customer.need}</div>
                    <div class="remaining">${isDone ? '‚úÖ Selesai' : `Sisa: ${rem} mnt`}</div>
                </div>
            `;
        }

        function renderQueue(queueIds, completedIds, remainingData) {
            const queueEl = document.getElementById('customerQueue');
            
            if (queueIds.length === 0) {
                queueEl.innerHTML = '<span style="color: #a0a0a0; font-style: italic;">Antrian kosong</span>';
            } else {
                queueEl.innerHTML = queueIds.map(id => {
                    const isDone = completedIds.includes(id);
                    const rem = remainingData ? remainingData[id] : customers[id].remaining;
                    return renderCustomerCard(id, false, isDone, rem);
                }).join('');
            }
        }

        function renderCompleted(completedIds) {
            const completedEl = document.getElementById('completedCustomers');
            
            if (completedIds.length === 0) {
                completedEl.innerHTML = '<span style="color: #a0a0a0; font-style: italic;">Belum ada yang selesai</span>';
            } else {
                completedEl.innerHTML = completedIds.map(id => renderCustomerCard(id, false, true, 0)).join('');
            }
        }

        function renderStep(stepData) {
            // Update step number
            document.getElementById('stepNumber').textContent = stepData.step;

            // Update progress bar
            const progress = (stepData.step / steps.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Update teller
            const tellerEl = document.getElementById('tellerCounter');
            const currentEl = document.getElementById('currentCustomer');
            const timeEl = document.getElementById('timeRemaining');
            
            if (stepData.serving) {
                const servingCustomer = customers[stepData.serving];
                tellerEl.classList.add('active');
                currentEl.textContent = `üë§ ${servingCustomer.name}`;
                currentEl.style.color = getCustomerColor(stepData.serving);
                
                const rem = stepData.remaining[stepData.serving];
                const served = servingCustomer.totalTime - rem - (stepData.step > 1 ? 0 : 0);
                timeEl.textContent = `‚è±Ô∏è ${stepData.time}`;
            } else {
                tellerEl.classList.remove('active');
                currentEl.textContent = '-';
                timeEl.textContent = '';
            }

            // Update queue (exclude serving and completed)
            renderQueue(stepData.queue, stepData.completed, stepData.remaining);

            // Update completed
            renderCompleted(stepData.completed);

            // Update explanation
            const expEl = document.getElementById('stepExplanation');
            expEl.innerHTML = `
                <h4>
                    <span class="time-badge">${stepData.time}</span>
                    ${stepData.explanation.title}
                </h4>
                <p>${stepData.explanation.desc}</p>
                <div class="action ${stepData.explanation.actionType}">
                    ${stepData.explanation.action}
                </div>
            `;

            // Update timeline
            document.querySelectorAll('.timeline-item').forEach(item => {
                const itemStep = parseInt(item.dataset.step);
                item.classList.remove('active', 'passed');
                if (itemStep === stepData.step) {
                    item.classList.add('active');
                } else if (itemStep < stepData.step) {
                    item.classList.add('passed');
                }
            });
        }

        function getCustomerColor(id) {
            const colors = {
                andi: '#e94560',
                budi: '#00d9ff',
                citra: '#4ade80',
                dina: '#fbbf24'
            };
            return colors[id] || '#fff';
        }

        function updateStatus(status) {
            const badge = document.getElementById('statusBadge');
            badge.className = 'status-badge ' + status;
            
            switch(status) {
                case 'running':
                    badge.textContent = '‚ñ∂Ô∏è Berjalan';
                    break;
                case 'paused':
                    badge.textContent = '‚è∏Ô∏è Dijeda';
                    break;
                case 'stopped':
                    badge.textContent = '‚èπÔ∏è Belum Dimulai';
                    break;
                case 'completed':
                    badge.textContent = '‚úÖ Selesai';
                    break;
            }
        }

        // ==========================================
        // ANIMATION CONTROLS
        // ==========================================

        function startAnimation() {
            if (animationState.currentStep >= steps.length) {
                resetAnimation();
            }

            animationState.isRunning = true;
            animationState.isPaused = false;
            
            updateStatus('running');
            updateButtons();

            // Run animation loop
            runAnimationLoop();
        }

        function runAnimationLoop() {
            if (!animationState.isRunning || animationState.isPaused) return;

            if (animationState.currentStep < steps.length) {
                animationState.currentStep++;
                renderStep(steps[animationState.currentStep - 1]);

                if (animationState.currentStep < steps.length) {
                    animationState.intervalId = setTimeout(runAnimationLoop, animationState.speed);
                } else {
                    // Animation completed
                    animationState.isRunning = false;
                    updateStatus('completed');
                    updateButtons();
                }
            }
        }

        function pauseAnimation() {
            if (!animationState.isRunning) return;

            animationState.isPaused = !animationState.isPaused;

            if (animationState.isPaused) {
                clearTimeout(animationState.intervalId);
                updateStatus('paused');
                document.getElementById('btnPause').textContent = '‚ñ∂Ô∏è Lanjut';
            } else {
                updateStatus('running');
                document.getElementById('btnPause').textContent = '‚è∏Ô∏è Pause';
                runAnimationLoop();
            }
        }

        function nextStep() {
            // Pause if running
            if (animationState.isRunning && !animationState.isPaused) {
                clearTimeout(animationState.intervalId);
                animationState.isPaused = true;
                updateStatus('paused');
                document.getElementById('btnPause').textContent = '‚ñ∂Ô∏è Lanjut';
            }

            if (animationState.currentStep < steps.length) {
                animationState.currentStep++;
                renderStep(steps[animationState.currentStep - 1]);

                if (animationState.currentStep >= steps.length) {
                    animationState.isRunning = false;
                    updateStatus('completed');
                }
            }

            updateButtons();
        }

        function resetAnimation() {
            clearTimeout(animationState.intervalId);
            
            animationState.isRunning = false;
            animationState.isPaused = false;
            animationState.currentStep = 0;

            // Reset UI
            document.getElementById('stepNumber').textContent = '0';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('currentCustomer').textContent = '-';
            document.getElementById('timeRemaining').textContent = '';
            document.getElementById('tellerCounter').classList.remove('active');

            // Reset queue to initial state
            renderQueue(['andi', 'budi', 'citra', 'dina'], [], {
                andi: 10, budi: 15, citra: 5, dina: 8
            });

            // Reset completed
            renderCompleted([]);

            // Reset explanation
            document.getElementById('stepExplanation').innerHTML = `
                <h4>üìñ Penjelasan</h4>
                <p>Klik tombol <strong>"‚ñ∂Ô∏è Mulai"</strong> untuk memulai simulasi, atau gunakan tombol <strong>"‚è≠Ô∏è Langkah"</strong> untuk maju satu langkah secara manual.</p>
            `;

            // Reset timeline
            document.querySelectorAll('.timeline-item').forEach(item => {
                item.classList.remove('active', 'passed');
            });

            updateStatus('stopped');
            updateButtons();
            document.getElementById('btnPause').textContent = '‚è∏Ô∏è Pause';
        }

        function updateButtons() {
            const btnStart = document.getElementById('btnStart');
            const btnPause = document.getElementById('btnPause');
            const btnStep = document.getElementById('btnStep');

            if (animationState.isRunning && !animationState.isPaused) {
                btnStart.disabled = true;
                btnPause.disabled = false;
                btnStep.disabled = false;
            } else if (animationState.isPaused) {
                btnStart.disabled = true;
                btnPause.disabled = false;
                btnStep.disabled = animationState.currentStep >= steps.length;
            } else {
                btnStart.disabled = animationState.currentStep >= steps.length;
                btnPause.disabled = true;
                btnStep.disabled = animationState.currentStep >= steps.length;
            }

            // Update start button text
            if (animationState.currentStep >= steps.length) {
                btnStart.textContent = 'üîÑ Ulang';
                btnStart.disabled = false;
            } else if (animationState.currentStep > 0) {
                btnStart.textContent = '‚ñ∂Ô∏è Lanjut';
            } else {
                btnStart.textContent = '‚ñ∂Ô∏è Mulai';
            }
        }

        function updateSpeed() {
            const slider = document.getElementById('speedSlider');
            const valueEl = document.getElementById('speedValue');
            
            // Inverse: slider 1 = slowest (5 sec), slider 10 = fastest (0.5 sec)
            const speedSeconds = (11 - parseInt(slider.value)) * 0.5;
            animationState.speed = speedSeconds * 1000;
            
            valueEl.textContent = `${speedSeconds} detik/langkah`;
        }

        function showSlide(n) {
            // For this demo, only one slide
            document.getElementById('progressBar').style.width = '0%';
        }

        // ==========================================
        // INITIALIZATION
        // ==========================================

        document.addEventListener('DOMContentLoaded', function() {
            // Set total steps
            document.getElementById('totalSteps').textContent = steps.length;

            // Initialize queue
            renderQueue(['andi', 'budi', 'citra', 'dina'], [], {
                andi: 10, budi: 15, citra: 5, dina: 8
            });

            // Initialize speed
            updateSpeed();

            // Update buttons
            updateButtons();
        });
    </script>

</body>
</html>